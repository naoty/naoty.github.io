{"componentChunkName":"component---src-templates-post-jsx","path":"/posts/43.html","webpackCompilationHash":"71cb8d3d9a1c6b9820df","result":{"data":{"site":{"siteMetadata":{"rootURL":"https://naoty.github.io"}},"markdownRemark":{"frontmatter":{"title":"AWSのリソースのネーミング","time":"2018-10-01T20:35:00+0900","description":null,"tags":["aws"]},"html":"<p>AWSのリソースをどうネーミングするのがいいか地味に悩む。なので、一度ちゃんと考えてみた。</p>\n<h1>リソース名の要素</h1>\n<p>自分が扱っているプロダクトでは、リソース名を構成する要素を分解してみると、以下のような感じになる。</p>\n<ul>\n<li>プロダクトのコードネーム</li>\n<li>AWSサービス名：<code class=\"language-text\">ec2</code>, <code class=\"language-text\">service</code>など</li>\n<li>環境：<code class=\"language-text\">prod</code>, <code class=\"language-text\">stg</code>など</li>\n<li>リソースの種類：<code class=\"language-text\">api</code>, <code class=\"language-text\">assets</code>など</li>\n</ul>\n<p>この中だと「プロダクトのコードネーム」「AWSサービス名」はあってもなくてもよさそう。</p>\n<p><code class=\"language-text\">prod</code>, <code class=\"language-text\">stg</code>といった環境名は必要なケースと不要なケースがありそう。例えば、EC2インスタンスやS3バケットでは環境ごとに異なるものなので、環境名をつけることになる。一方、IAMのような権限まわりの設定はアプリケーションの実行環境とは別に考えられるものもあるし、SESのようなすべての環境で共通して利用するものも環境名をつけなくていいはず。</p>\n<p>リソースの種類は複数のリソースを識別するために必要になるけど、識別する必要がなければなくてもいい。</p>\n<h1>要素の順</h1>\n<p>「環境」と「リソースの種類」が必要そうなのはわかったので、どちらを先に書くかを決める必要があるけど、環境が後かなーという気がする。どっちでもいいと思う。</p>\n<h1>スタイル</h1>\n<p>リソース名のスタイルは<code class=\"language-text\">UpperCamelCase</code>, <code class=\"language-text\">camelCase</code>, <code class=\"language-text\">snake_case</code>, <code class=\"language-text\">kebab-case</code>のうちどれなのか。AWSのドキュメントを読むと、<code class=\"language-text\">kebab-case</code>が多い。ただ、IAMだと<code class=\"language-text\">UpperCamelCase</code>が使われているので、サービスごとに使い分けるのがよさそう。</p>\n<h1>略称</h1>\n<p>EC2のような公式の略称は使ってもいいけど、基本的には略称は避けるべきだと思う。上述の<code class=\"language-text\">prod</code>も<code class=\"language-text\">production</code>とした方がいいと思う。</p>\n<h1>まとめ</h1>\n<p>これまでの話をまとめると、たいていのケースでは<code class=\"language-text\">&lt;リソースの種類&gt;-&lt;環境&gt;</code>というネーミングにするのがよさそう。例えば</p>\n<ul>\n<li>EC2インスタンス：<code class=\"language-text\">production</code></li>\n<li>ECSサービス：<code class=\"language-text\">api-production</code>, <code class=\"language-text\">sidekiq-production</code></li>\n<li>S3バケット：<code class=\"language-text\">assets-production</code>, <code class=\"language-text\">uploads-production</code></li>\n<li>IAMロール：<code class=\"language-text\">developer</code>, <code class=\"language-text\">ecs-task</code></li>\n</ul>\n<p>というようなネーミングになりそう。まだ考慮できていないケースがありそうなので、随時アップデートしていきたい。</p>","fileAbsolutePath":"/home/circleci/project/contents/posts/43.md"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"a32c513e-f7e2-539a-b86f-1eb716ced371"}}}